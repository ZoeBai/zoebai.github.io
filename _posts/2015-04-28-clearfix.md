---
layout: default
title: clearfix
category: CSS
---
#盒模型与BFC与清除浮动总结#

##什么是BFC?

BFC是Block format context,当以下条件至少触发一条时，便会形成:

+ float属性不为 none
+ overflow属性不为 visible
+ display属性为 table-cell, table-caption, 或inline-block
+ display属性为 flex 或 inline-flex
+ position属性不为 static 或 relative

BFC从属于文本流(normal flow)，它有如下特质：

>1. Block formatting contexts prevent margin collaping

垂直相邻的元素margin原本应塌陷，但若相邻的元素被不同BFC包含，它们的margin将不合并。

在这种情况下，将负元素触发为BFC等同于对父元素设置padding或border.

>2. Block formatting contexts contain floats

当子元素为浮动时，父元素本应塌陷，但若父元素为BFC，则将包含浮动子元素不会出现高度塌陷。(note: 浮动子元素亦为BFC，而块级格式化上下文BFC必包含BFC)

当父元素为BFC且触发条件不为float时，为自清除浮动，其后不需要清除浮动。 (note: clear只清除相同BFC内的浮动)

>3. Block formatting contexts do not overlap floats

BFC的border-box将不会与同处于父BFC的float元素的margin重叠。

因此，要设置BFC中BFC与兄弟float元素的空隙时，有如下两种方案：

+ 对float元素设置与空隙宽度相等的外边距
+ 对BFC元素设置外边距等于float元素宽度与空隙宽度之和



清除浮动的语句为  

`clear: both/left/right/none;`  

然而由于浮动元素不在普通文本流中，包含浮动元素的父级元素将会出现高度塌陷。对浮动元素后的元素采用clear仅能确保该元素的不受float布局影响，不能改善包含浮动元素的高度塌陷问题。


    <style>
        .parent {height: auto;}  
        .left {float:left;}  
        .right {float:right;}  
        .next {clear:both;}  
    </style>
    <div class = "parent" >  
        <div class = "left"></div>  
        <div class = "right"></div>  
    </div>  
    <div class = "next"></div>  


<div class = "parent" style = "padding: 20px;height: auto;width:100%;background-color: #fe4365;">
    <div class = "left" style = "float: left;width: 200px;height:200px;background-color: #fc9d9a;"></div>
    <div class = "right" style = "float:right;width: 300px;height:200px;background-color: #f9cdad;"></div>
</div>
<div class = "next" style = "clear: both;height:100px;width:100%;background-color: #83af9b"></div>